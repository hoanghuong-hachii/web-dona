<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Digital</title>

    <link href="assets/fonts/fontawesome-free-6.5.1-web/css/brands.css" rel="stylesheet">
    <link href="assets/fonts/fontawesome-free-6.5.1-web/css/solid.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="./assets/fonts/themify-icons/themify-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.2.228/pdf.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <link rel="stylesheet" href="./assets/css/grid.css">
    <link rel="stylesheet" href="./assets/css/base.css">
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./assets/css/contruct.css">
    <link rel="stylesheet" href="./assets/css/digitalsign.css">
    <link rel="stylesheet" href="./assets/css/sign_digital.css">



    <script>
        //const urlParams = new URLSearchParams(window.location.search);
        //const pdfUrl = urlParams.get('pdfUrl');
        const pdfUrl = 'http://localhost:8080/images/20240304233254839.pdf';

        console.log('PDF URL:', pdfUrl);

    </script>
</head>
<body>
    <header id="header">
        <div class="head-left">
            <a href="" class="logo">
                <img src="./assets/imgs/DinoBeauty3_logo.png" alt="">
            </a>
        </div>
        <a class="head-icon" href="">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                <rect width="24" height="24" fill="none" />
                <path fill="none" stroke="#ffffff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16" />
            </svg>
        </a>
        <div class="head-title">
            <h3>Sign Digital</h3>
        </div>
        <div class="head-navtop-menu">
            <ul class="list">
                <li class="item">
                    <a href="">
                        <svg xmlns="http://www.w3.org/2000/svg" width="21" height="24" viewBox="0 0 448 512">
                            <rect width="448" height="512" fill="none" />
                            <path fill="#ffffff" d="M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29c0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29c-6 6.45-8.66 14.16-8.61 21.71c.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32c.05-7.55-2.61-15.27-8.61-21.71M67.53 368c21.22-27.97 44.42-74.33 44.53-159.42c0-.2-.06-.38-.06-.58c0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58c.11 85.1 23.31 131.46 44.53 159.42zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64" />
                        </svg>
                    </a>

                    <div class="navbar__notice">
                        <header class="navbar__notice-header">
                            <h3>Notifications</h3>
                        </header>
                        <ul class="list">
                            <li class="item">
                                <a href=""><img src="./assets/imgs/avatar-1.jpg" alt=""></a>
                                <div class="content">
                                    <h3>Have client register new task Patient appointment booking</h3>
                                    <span>2 mins ago</span>
                                </div>
                            </li>
                            <li class="item">
                                <a href=""><img src="./assets/imgs/avatar-1.jpg" alt=""></a>
                                <div class="content">
                                    <h3>Have client register new task Patient appointment booking</h3>
                                    <span>2 mins ago</span>
                                </div>
                            </li>
                            <li class="item">
                                <a href=""><img src="./assets/imgs/avatar-1.jpg" alt=""></a>
                                <div class="content">
                                    <h3>Have client register new task Patient appointment booking</h3>
                                    <span>2 mins ago</span>
                                </div>
                            </li>
                        </ul>
                        <footer class="footer">
                            <a href="">View all</a>
                        </footer>
                    </div>
                </li>
                <li class="item">
                    <img src="./assets/imgs/avatar-1.jpg" alt="">
                    
                    <a href="" class="acount">
                        <span>Admin</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48">
                            <rect width="48" height="48" fill="none" />
                            <path fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M36 18L24 30L12 18" />
                        </svg>
                    </a>

                    <div class="dropdown_acount">
                        <ul>
                            <li><a href="">My Profile</a></li>
                            <li><a href="">Logout</a></li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>
    </header>

    <div class="sidebar">
        <div class="side-main">
            
            <ul class="side-list">
                <li class="side-item">
                    <a id="btn-sign" href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="32" viewBox="0 0 576 512">
                            <rect width="576" height="512" fill="none" />
                            <path fill="#fff" d="M64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64v-19.3c-2.7 1.1-5.4 2-8.2 2.7l-60.1 15c-3 .7-6 1.2-9 1.4c-.9.1-1.8.2-2.7.2h-64c-6.1 0-11.6-3.4-14.3-8.8l-8.8-17.7c-1.7-3.4-5.1-5.5-8.8-5.5s-7.2 2.1-8.8 5.5l-8.8 17.7c-2.9 5.9-9.2 9.4-15.7 8.8s-12.1-5.1-13.9-11.3L144 381l-9.8 32.8c-6.1 20.3-24.8 34.2-46 34.2H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h8.2c7.1 0 13.3-4.6 15.3-11.4l14.9-49.5c3.4-11.3 13.8-19.1 25.6-19.1s22.2 7.8 25.6 19.1l11.6 38.6c7.4-6.2 16.8-9.7 26.8-9.7c15.9 0 30.4 9 37.5 23.2l4.4 8.8h8.9c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l94.8-94.8V160H256c-17.7 0-32-14.3-32-32V0zm192 0v128h128zm293.8 139.7c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4l71 71l29.4-29.4c15.6-15.6 15.6-40.9 0-56.6zM311.9 321c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5.2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4l129.2-129.3l-71-71z" />
                        </svg>
                    </a>
                </li>
                <li class="side-item">
                    <a id="btn-verify" href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                            <rect width="24" height="24" fill="none" />
                            <path fill="none" stroke="#fff" stroke-width="2" d="M15 19H2V1h16v4m0 0a5 5 0 1 1 0 10a5 5 0 0 1 0-10zm-3 9v8l3-2l3 2v-8M5 8h6m-6 3h5m-5 3h2M5 5h2" />
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div id="container">
        
        <div class="edit-container">

            <header class="pdf-page__header">
                <div class="page__header-action">
                    <a id="btn-prev">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48">
                            <rect width="48" height="48" fill="none" />
                            <path fill="none" stroke="#717376" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M31 36L19 24L31 12" />
                        </svg>
                    </a>
                    <a id="btn-next">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48">
                            <rect width="48" height="48" fill="none" />
                            <path fill="none" stroke="#717376" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M19 12L31 24L19 36" />
                        </svg>
                    </a>
                    <input type="number" id="current_page" value="1">
                    
                    <span class="per">/</span>
                    <span id="pdf-total-pages" class="npage">1</span>
                   
                </div>
            </header>
            <div class="pdf-page">
                <div id="body_content">
                    <div id="page1" class="page">
                        <div class="file_content">
                            <canvas id="pdf-canvas" class="myCanvas" width="854px" height="1105px"></canvas>
                            <canvas id="overlay-canvas" class="file" width="900px" height="1200px"></canvas>
                            
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
    
    <div id="footer">

    </div>

    <label for="" class="modal-overlay"></label>

    <!-- Begin Modal Sign -->
    <div class="modal-container js-modal-container">
        <label for="" class="modal-close js-modal-close">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24">
                <rect width="24" height="24" fill="none" />
                <path fill="#fff" d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4" />
            </svg>
        </label>
        <header class="modal-header">
            <i class="fa-solid fa-file-signature"></i>
            Digital Signature - Digital ID Selection
        </header>
        <div class="modal-body">
            <header class="modal-body__header">
                <h3>Choose the Digital ID that you want to use for signing:</h3>
            </header>
            <div class="body-list_id">
                <ul class="digital-id">
                    
                </ul>
            </div>
        </div>

        <footer class="modal-footer">
            <input id="btn-add" type="button" value="Configure New Digital ID" class="modal-body__btn">
            <input id="btn-cancel" type="button" value="Cancel" class="modal-body__btn ml-8">
            <input disabled id="btn-continue" type="button" value="Continue" class="modal-body__btn ml-8">
            
        </footer>
    </div>
    <!-- End Modal Sign -->

    <div class="viewdetail">
        <div class="modal-container1">
            
            <header class="modal-header">
               <h3>Info Certificate</h3> 
               <a href="#" class="detail-close ">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24">
                    <rect width="24" height="24" fill="none" />
                    <path fill="#fff" d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4" />
                </svg>
                </a>
            </header>
            <div class="modal-body">
                <form action="" class="edit-form">

                    <div class="row">
                        <div class="col l-6 m-6">
                            <div class="info">
                                <label for="" class="form-lable">Username</label>
                                <input type="text" name="username" class="form-input" >
                            </div>
                            
                        </div>
                        <div class="col l-6 m-6">
                            <div class="info">
                                <label for="" class="form-lable">ID</label>
                                <input type="text" name="id" class="form-input" >
                            </div>
                            
                        </div>
                        <div class="col l-6 m-6">
                            <div class="info">
                                <label for="" class="form-lable">Email</label>
                                <input type="text" name="email" class="form-input" >
                            </div>
                           
                        </div>
                        <div class="col l-6 m-6">
                            <div class="info">
                                <label for="" class="form-lable">Date</label>
                                <input type="text" name="date" class="form-input" >
                            </div>
                            
                        </div>
                        <div class="col l-6 m-6">
                            <div class="info">
                                <label for="" class="form-lable">Phone</label>
                                <input type="text" name="phone" class="form-input" >
                            </div>
                            
                        </div>
                        <div class="col l-6 m-6">
                            <div class="info">
                                <label for="" class="form-lable">Company</label>
                                <input type="text" name="company" class="form-input" >
                            </div>
                            
                        </div>
                        <div class="col l-6 m-6">
                            <div class="info">
                                <label for="" class="form-lable">Status</label>
                                <input type="text" name="change-status" class="form-input" >

                            </div>
                            
                        </div>
                        <div class="col l-6 m-6">
                            <div class="info">
                                <label for="" class="form-lable">Expried</label>
                                <input type="text" name="expried" class="form-input" >
                            </div>
                            
                        </div>
                    </div>
                    <div class="btn">
                    </div>
                </form>
                
            </div>
           
        </div>
    </div>

    <div class="viewdetail">
        <div class="modal-reason">
            <label for="open_close" class="reason-close ">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24">
                    <rect width="24" height="24" fill="none" />
                    <path fill="#fff" d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4" />
                </svg>
            </label>
            <header class="modal-header">
               <h3>Apply Signature</h3> 
            </header>
            <div class="modal-body">
                <form action="" class="edit-form">

                    <div class="info">
                        <label for="" class="form-lable">Lý do ký</label>
                        <input type="text" id="text-reason" name="reason" class="form-input" value="Ky hoa don" >
                    </div>
                    
                    <div class="btn">
                        <button type="button" id="btn-reason-continue" class="btn-re">Continue</button>

                    </div>
                </form>
            </div>
        </div>

        <div class="modal-pin">
            <header class="modal-header">
               <h3>User PIN Vertification</h3> 
                <a href="#" class="pin-close">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24">
                        <rect width="24" height="24" fill="none" />
                        <path fill="#fff" d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4" />
                    </svg>
                </a>
            </header>
            <div class="modal-body">
                <form action="" class="edit-form">
                    <div class="info">
                        <label for="" class="form-lable">Mã PIN</label>
                        <input type="password" id="text-pass" name="reason" class="form-input"  >
                        <p  class="form-lable wrong">Bạn nhập sai <span id="num-wrong">1</span>/ 3 lần</p>
                        <p  class="form-lable " id="text-lock">Tài khoản bị khóa ! Do nhập sai PIN 3 lần</p>
                    </div>
                    
                    <div class="btn">
                        <button type="button" id="verify-btn" class="btn-re">Xác nhận</button>
                    </div>
                </form>
                
            </div>
           
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.13.272/pdf.min.js"></script>
    <script src="./assets/js/signPdf.js"></script>
    <script src="./assets/js/main.js"></script>
    <script>
        
        $(document).ready(function(){


            $('#btn-sign').click(function(){
                $('.modal-overlay').show();
                $('.modal-container').show();
            });

            $('.modal-overlay').click(function(){
                $('.modal-overlay').hide();
                $('.modal-container1').hide();
                $('.modal-container').hide();
                $('.modal-reason').hide();
                $('.modal-pin').hide();

            });

            $('.modal-close').click(function(){
                $('.modal-overlay').hide();
                $('.modal-container').hide();

            });

            $('.detail-close').click(function(){
                $('.modal-container1').hide();

            });
            $('#btn-continue').click(function(){ 
                $('.modal-reason').show();
                $('.modal-container').hide();
            });
            $('.reason-close').click(function(){
                $('.modal-container').show();
                $('.modal-reason').hide();
            });

            $('#btn-reason-continue').click(function(){
                $('.modal-reason').hide();
                $('.modal-pin').show()
            });

            $('.pin-close').click(function(){
                $('.modal-pin').hide();
                $('.modal-reason').show();
            });
            
            $('#btn-add').click(function() {
                window.location.href='./register_CA.html'
            })

            $('#btn-cancel').click(function() {
                $('.modal-overlay').hide();
                $('.modal-container').hide();
            })
           
            $(document).on('click', '.digital-id__view', function(){
                console.log('click detail');
                $('.modal-container1').show()
            });

        });
            
    </script>

</body>
</html>